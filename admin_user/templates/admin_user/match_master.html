{% include "admin_user/headertags.html" %}


<div class="wrapper">
    <!-- Sidebar -->
    {% include "admin_user/menu.html" %}


    <!-- Page Content -->
    <div id="content" class="bg-form-page bg-success">
        <!-- Navbar -->
        {% include "admin_user/menu_top.html" %}


        <!-- Dashboard Content -->
        <div class="container-fluid py-4 px-3">
            <form method="POST" class="row g-3" onsubmit="return handleSubmit(this)">
                <div class="card px-0 border-0">
                    <div class="card-header rounded-0 border-0 bg-dark text-white">
                        Match Entry Form
                    </div>
                    <div class="card-body">
                        {% csrf_token %}
                        <div class="alert text-dark" style="border: solid 1px rgba(0, 0, 0, 0.089);">
                            <div class="row mt-4 p-2 mx-2 alert alert-dark">
                                <!-- Match Type -->
                                <div class="col-lg-2 col-sm-12 ">
                                    <label for="match_type" class="form-label">Match Type</label>
                                    <select name="match_type" id="match_type" class="form-select"
                                        onchange="toggleFields()">
                                        <option value="">Select Match Type</option>
                                        <option value="Multidays">Multidays</option>
                                        <option value="One Day">One Day</option>
                                        <option value="T20">T20</option>
                                    </select>
                                </div>

                                <!-- Tournament Name -->
                                <div class="col-lg-4 col-sm-12">
                                    <label for="name_tournament" class="form-label">Name of Tournament</label>
                                    <input type="text" name="name_tournament" placeholder="Tournament Name"
                                        class="form-control" id="name_tournament">
                                </div>

                                <!-- Ground ID -->
                                <div class="col-lg-3 col-sm-12">
                                    <label for="ground_id" class="form-label">Select Ground:</label>
                                    <select id="ground_id" name="ground_id" class="form-control"></select>

                                </div>

                                <!-- Pitch ID -->
                                <div class="col-lg-3 col-sm-12">
                                    <label for="pitch_id" class="form-label">Select Pitch:</label>
                                    <select id="pitch_id" name="pitch_id" class="form-control"></select>
                                </div>
                            </div>
                            <div class="row mt-4">

                                <div class="col-lg-6 col-sm-12">
                                    <div class="row p-2 mx-2 alert alert-dark">
                                        <h3>Teams</h3>
                                        <hr>
                                        <!-- Team 1 -->
                                        <div class="col-lg-12 col-sm-12">
                                            <label for="team1" class="form-label">Team 1</label>
                                            <input type="text" name="team1" class="form-control" placeholder="Team Name"
                                                id="team1">
                                        </div>

                                        <!-- Team 2 -->
                                        <div class="col-md-12">
                                            <label for="team2" class="form-label">Team 2</label>
                                            <input type="text" name="team2" class="form-control" placeholder="Team Name"
                                                id="team2">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-sm-12">
                                    <div class="row p-2 mx-2 alert alert-dark">
                                        <h3>Dates</h3>
                                        <hr>
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="preparation_date" class="form-label">Preparation Date</label>
                                            <input type="date" onchange="getWeather(this)" name="preparation_date"
                                                class="form-control" id="preparation_date">
                                        </div>
                                        <div class="col-lg-6 col-sm-12" id="match-date-div">
                                            <label for="match_date" class="form-label">Match Date</label>
                                            <input type="date" name="match_date" class="form-control" id="match_date"
                                                disabled>
                                        </div>

                                        <div class="col-lg-6 col-sm-12" id="from-date-div">
                                            <label for="from_date" class="form-label">From Date</label>
                                            <input type="date" name="from_date" class="form-control" id="from_date"
                                                disabled>
                                        </div>

                                        <div class="col-lg-6 col-sm-12" id="to-date-div">
                                            <label for="to_date" class="form-label">To Date</label>
                                            <input type="date" name="to_date" class="form-control" id="to_date"
                                                disabled>
                                        </div>
                                        <!-- Days Count -->
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="days_count" class="form-label">Days Count</label>
                                            <input type="number" name="days_count" readonly class="form-control"
                                                placeholder="Total days" id="days_count" value="1">
                                        </div>
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="start_time" class="form-label">Match Start Time</label>
                                            <input type="time" name="start_time" class="form-control" id="start_time">
                                        </div>
                                    </div>

                                </div>

                            </div>
                            <!-- Preparation Date -->

                            <div class="row mt-4">
                                <div class="col-lg-6 col-sm-12 ">
                                    <div class="row p-2 mx-2 alert alert-dark">
                                        <h3>Forecast</h3>
                                        <hr>
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="col">
                                                    <label for="min_temp" class="form-label">Minimum Temprature
                                                        °C</label>
                                                    <input type="text" id="min_temp" placeholder="Minimum Temprature"
                                                        name="min_temp" class="form-control">

                                                </div>
                                                <div class="col">
                                                    <label for="max_temp" class="form-label">Maximum Temprature
                                                        °C</label>
                                                    <input type="text" placeholder="Maximum Temprature" id="max_temp"
                                                        name="max_temp" class="form-control">

                                                </div>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="forecast" class="form-label">Forecast Prediction
                                                    Available:</label>
                                                <textarea id="forecast" name="forecast"
                                                    placeholder="Forecast Prediction Available"
                                                    class="form-control"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-sm-12">
                                    <div class="row p-2 mx-2 alert alert-dark">
                                        <h3>Ground Levels</h3>
                                        <hr>

                                        <!-- Is Pitch Level -->
                                        <div class="col-lg-6 mt-4 col-sm-12 form-check">
                                            <input type="checkbox" name="is_pitch_level" class="form-check-input"
                                                id="is_pitch_level">
                                            <label for="is_pitch_level" class="form-check-label">Is Pitch Level?</label>
                                        </div>

                                        <!-- Lawn Height -->
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="lawn_height" class="form-label">Lawn Height (mm)</label>
                                            <input type="number" name="lawn_height" step="0.01" class="form-control"
                                                placeholder="Lawn Height" id="lawn_height">
                                        </div>

                                        <!-- Grass Cover -->
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="grass_cover" class="form-label">Grass Cover</label>
                                            <select name="grass_cover" class="form-select" id="grass_cover">
                                                <option value="uniform">Uniform</option>
                                                <option value="partially">Partially</option>
                                                <option value="little/no grass">Little/No Grass</option>
                                            </select>
                                        </div>


                                        <!-- Moisture Upto -->
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="moisture_upto" class="form-label">Moisture Upto (inches)</label>
                                            <input type="number" name="moisture_upto" step="0.01" class="form-control"
                                                placeholder="Moisture Upto" id="moisture_upto">
                                        </div>
                                        <!-- Dew Factor -->
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="dew_factor" class="form-label">Dew Factor</label>
                                            <input type="text" name="dew_factor" class="form-control"
                                                placeholder="Dew Factor" id="dew_factor">
                                        </div>
                                        <!-- Access Bounce -->
                                        <div class="col-lg-6 col-sm-12">
                                            <label for="access_bounce" class="form-label">Access Bounce/Clagg
                                                Hammer</label>
                                            <input type="text" name="access_bounce" class="form-control"
                                                placeholder="Access Bounce" id="access_bounce">
                                        </div>
                                    </div>
                                </div>





                                <!-- Match Date / From Date / To Date -->

                                <div class="col-lg-6 col-sm-12 p-2 mx-2 alert alert-dark" id="match-date-div">
                                    <label for="nuteral_curator" class="form-label">Neutral Curator</label>
                                    <input type="text" name="nuteral_curator" class="form-control" id="nuteral_curator">
                                </div>

                            </div>
                        </div>


                        <!-- Toast container -->
                        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
                            <div id="myToast" class="toast align-items-center text-white bg-success border-0"
                                role="alert" aria-live="assertive" aria-atomic="true">
                                <div class="d-flex">
                                    <div class="toast-body toast-msg-div">
                                        This is a success toast!
                                    </div>
                                    <button type="button" class="btn-close btn-close-white me-2 m-auto"
                                        data-bs-dismiss="toast"></button>
                                </div>
                            </div>
                        </div>

                        <!-- Tabs.... -->
                        <ul class="nav nav-pills rounded-top bg-dark" style="margin-top: 0;margin-left: 0;" id="mytab"
                            role="tablist">
                            <li class="nav-item fs-4 " role="presentation">
                                <button class="nav-link custom1 active" id="pitch-pill-tab" data-bs-toggle="pill"
                                    data-bs-target="#pitch-pill" type="button" role="tab" aria-controls="home-tab-pane"
                                    aria-selected="true">
                                    <b>Pitch Entry</b>

                                </button>
                            </li>
                            <li class="nav-item fs-4" role="presentation">
                                <button class="nav-link custom2" id="profile-tab" data-bs-toggle="pill"
                                    data-bs-target="#profile-tab-pane" type="button" role="tab"
                                    aria-controls="profile-tab-pane" aria-selected="false">
                                    <u><b>Outfield Entry</b></u>
                                </button>
                            </li>

                        </ul>
<!-- Pitch -->
                <div class="tab-content mt-0 pb-4 rounded-bottom" style="border: 6px solid black;"
                            id="my-tabContent">
                            <div class="tab-pane fade show active" id="pitch-pill" role="tabpanel"
                                aria-labelledby="home-tab" tabindex="0">
<!-- watering -->
                                <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark"
                                    style="border:1px solid black;">
                                    <div class="row">

                                        <div class="col-lg-12 col-sm-12">

                                            <legend class="w-auto px-2"> Watering</legend>
                                            <hr>
                                            <div class="row">
                                                <div class="col-lg-4 col-sm-12">
                                                    <label for="last_watering_on" class="form-label ">Watering
                                                        On:</label>
                                                    <input type="date" id="last_watering_on" name="last_watering_on"
                                                        class="form-control">
                                                </div>

                                                <div class="col-lg-4 col-sm-12">
                                                    <label for="time_of_application" class="form-label ">Time of
                                                        Watering:</label>
                                                    <input type="time" id="time_of_application"
                                                        name="time_of_application" class="form-control">
                                                </div>

                                                <div class="col-lg-4 col-sm-12">
                                                    <label for="quantity_of_water" class="form-label ">Quantity of
                                                        Water:</label>
                                                    <input type="text" id="quantity_of_water" name="quantity_of_water"
                                                        class="form-control">
                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                </div>
<!-- rolling -->
                                <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark"
                                    style="border:1px solid black;">
                                    <div class="row">
                                        <div class="col-sm-12 col-lg-12">

                                            <legend class="w-auto px-2">Rolling</legend>
                                            <hr>
                                            <div class="row">
                                                <div class="col-sm-12 col-lg-3">
                                                    <label for="roller_machine_type" class="form-label">Select Machine
                                                        Type</label>
                                                    <select class="form-select" id="roller_machine_type"
                                                        name="roller_machine_type">
                                                        <option selected>Select Type</option>
                                                        <option value="passes">Maunal</option>
                                                        <option value="time">Machenized</option>
                                                    </select>
                                                </div>

                                                <div class="col-sm-12 col-lg-3">
                                                    <div class="row">
                                                        <div class="col">
                                                            <label for="machinery_id" class="form-label">Select
                                                                Roller</label>
                                                            <input type="hidden" name="machinery_id" id="machinery_id">
                                                            <input type="text" name="machinery_name" id="machinery_name"
                                                                class="form-control" readonly
                                                                placeholder="Click to select machinery">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">

                                                            <button type="button"
                                                                class="btn btn-dark mt-2 p-2 align-self-end"
                                                                style="font-size:50%"
                                                                onclick="openMachineryModal('roller')">Select
                                                                Machinery</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-12 col-lg-2">
                                                    <label for="passes-unit" class="form-label">Select
                                                        Unit:</label>
                                                    <select class="form-select" id="passes_unit" name="passes_unit">
                                                        <option selected>Select Unit</option>
                                                        <option value="passes">Passes</option>
                                                        <option value="time">Time</option>
                                                        <option value="hours">Hours</option>
                                                        <option value="minutes">Minutes</option>
                                                    </select>
                                                </div>
                                                <div class="col-sm-12 col-lg-2">
                                                    <label for="no_of_passes" class="form-label">Number of
                                                        Passes:</label>
                                                    <input type="text" id="no_of_passes" name="no_of_passes"
                                                        class="form-control">
                                                </div>

                                                <div class="col-sm-12 col-lg-3">
                                                    <label for="roller_machinery_name_operator"
                                                        class="form-label">Operator Name:</label>
                                                    <input type="text" name="roller_machinery_name_operator"
                                                        id="roller_machinery_name_operator" class="form-control">

                                                </div>
                                                <div class="col-sm-12 col-lg-3">
                                                    <label for="time_of_application" class="form-label">Time of
                                                        Rolling:</label>
                                                    <input type="time" id="time_roller" name="time_roller"
                                                        class="form-control">
                                                </div>

                                                <div class="col-sm-12 col-lg-3">
                                                    <label for="rolling_speed" class="form-label">Rolling
                                                        Speed (km/hour):</label>
                                                    <input type="text" id="rolling_speed" name="rolling_speed"
                                                        class="form-control">
                                                </div>

                                                <div class="mt-4 mb-0 col text-end">
                                                    <button type="button" class="btn btn-primary"
                                                        style="font-size: 70%;" onclick="addRollingEntry()">Add Rolling
                                                        Entry</button>
                                                </div>


                                                <div class="col-sm-12 col-lg-12 mt-5">
                                                    <div class="accordion" id="rolling-entries-accordion">
                                                        <div class="accordion-item">
                                                            <h2 class="accordion-header">
                                                                <button class="accordion-button" type="button"
                                                                    data-bs-toggle="collapse"
                                                                    data-bs-target="#collapseOne-rolling"
                                                                    aria-expanded="true"
                                                                    aria-controls="collapseOne-rolling">
                                                                    <h5 class="">Rolling Entries</h5> <span
                                                                        id="rolling-count"></span>

                                                                </button>
                                                            </h2>
                                                            <div id="collapseOne-rolling"
                                                                class="accordion-collapse collapse"
                                                                data-bs-parent="#rolling-entries-accordion">
                                                                <div class="accordion-body">
                                                                    <table class="table table-bordered"
                                                                        style="font-size: 70%;" id="rollingTable">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                <th>Machine Type</th>
                                                                                <th>Machinery</th>
                                                                                <th>Operator</th>
                                                                                <th>Speed</th>
                                                                                <th>Passes</th>
                                                                                <th>Unit</th>
                                                                                <th>Time</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>

                                                                    <input type="hidden" name="rolling_entries_json"
                                                                        id="rolling_entries_json">
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>



                                            </div>

                                        </div>

                                    </div>



                                </div>
<!-- Mowing -->
                                <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">

                                    <legend class="w-auto px-2">Mower Entries</legend>
                                    <hr>
                                    <div class="row mt-4">
                                        <div class="col-lg-2 col-sm-12">
                                            <label for="mover_machine_type" class="form-label">Select Machine
                                                Type</label>
                                            <select class="form-select" id="mover_machine_type"
                                                name="mover_machine_type">
                                                <option selected>Select Type</option>
                                                <option value="passes">Maunal</option>
                                                <option value="time">Machenized</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-2 col-sm-12">
                                           
                                               <div class="row">
                                                <div class="col">
                                                    <label for="mover_machinery_id" class="form-label">Select
                                                        Machinery/Mover</label>
                                                    <input type="hidden" name="mover_machinery_id"
                                                        id="mover_machinery_id">
                                                    <input type="text" name="mover_machinery_name"
                                                        id="mover_machinery_name" class="form-control" readonly
                                                        placeholder="Click to select machinery">
                                                </div>
                                    
                                                <div class="col">
                                                    <button type="button" class="btn btn-dark mt-2 align-self-end"
                                                        style="font-size:70%"
                                                        onclick="openMachineryModal('mover')">Select
                                                        Machinery</button>

                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-lg-2 col-sm-12">
                                            <label for="date_mowing_done_last" class="form-label">Last Mowing
                                                Date:</label>
                                            <input type="date" id="date_mowing_done_last" name="date_mowing_done_last"
                                                class="form-control">
                                        </div>

                                        <div class="col-lg-2 col-sm-12">
                                            <label for="time_of_application_mover" class="form-label">Time of
                                                Application Mover:</label>
                                            <input type="time" id="time_of_application_mover"
                                                name="time_of_application_mover" class="form-control">
                                        </div>

                                        <div class="col-lg-2 col-sm-12">
                                            <label for="mowing_done_at_mm" class="form-label">Mowing Height
                                                (mm):</label>
                                            <input type="number" id="mowing_done_at_mm" name="mowing_done_at_mm"
                                                class="form-control">
                                        </div>



                                        <div class="col-lg-2 col-sm-12">
                                            <label for="moving_passes_unit" class="form-label">Select
                                                Unit:</label>
                                            <select class="form-select" id="moving_passes_unit"
                                                name="moving_passes_unit">
                                                <option selected>Select Unit</option>
                                                <option value="time">Time</option>
                                                <option value="hours">Hours</option>
                                                <option value="minutes">Minutes</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-2 col-sm-12">
                                            <label for="mowing_duration" class="form-label">Mowing Duration :</label>
                                            <input type="number" id="mowing_duration" name="mowing_duration"
                                                class="form-control">
                                        </div>

                                        <div class="col-lg-2 col-sm-12">
                                            <label for="mover_machinery_name_operator" class="form-label">Operator
                                                Name:</label>
                                            <input type="text" name="mover_machinery_name_operator"
                                                id="mover_machinery_name_operator" class="form-control">
                                        </div>


                                        <div class="mt-4 mb-0 text-end col-lg-3 col-sm-12">
                                            <button type="button" style="font-size: 70%;" class="btn btn-primary"
                                                onclick="addMoverEntry()">Add
                                                Mover Entry</button>
                                        </div>
                                        <div class="col-lg-12 col-sm-12 mt-4">
                                            <div class="accordion" id="mover-entries-accordion">
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button" type="button"
                                                            data-bs-toggle="collapse"
                                                            data-bs-target="#collapseOne-moving" aria-expanded="true"
                                                            aria-controls="collapseOne-moving">
                                                            <h5 class="">Mower Entries</h5> <span
                                                                id="mover-count"></span>

                                                        </button>
                                                    </h2>
                                                    <div id="collapseOne-moving" class="accordion-collapse collapse"
                                                        data-bs-parent="#mover-entries-accordion">
                                                        <div class="accordion-body">
                                                            <table class="table table-bordered" id="moverTable">
                                                                <thead class="table-dark">
                                                                    <tr>
                                                                        <th>Machine Type</th>
                                                                        <th>Machinery</th>
                                                                        <th>Operator</th>
                                                                        <th>Height (mm)</th>
                                                                        <th>Duration</th>
                                                                        <th>Unit</th>
                                                                        <th>Time</th>
                                                                        <th>Date</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>

                                                            <input type="hidden" name="mover_entries_json"
                                                                id="mover_entries_json">
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                    </div>

                                </div>
<!-- Chemical -->
                                <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
                                    <fieldset>
                                        <legend class="w-auto px-2">Chemical Entries</legend>
                                        <div class="row mt-3">

                                            <div class="col-lg-2 col-sm-12">
                                                <div class="input-group mb-3 mt-4  rounded ">
                                                    <div class="input-group-text border-0" style="">
                                                        <input class="form-check-input  border-left" type="checkbox"
                                                            aria-label="Checkbox for following text input"
                                                            name="is_fertilizers_used" id="is_fertilizers_used">
                                                    </div>
                                                    <input type="text" class="form-control border-0 p-0 mt-0"
                                                        value="Is Fertilizers Used"
                                                        style="background-color: transparent;" readonly
                                                        aria-label="Text input with checkbox">
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-sm-12">
                                                <label for="fertilizers_details" class="form-label">Chemical
                                                    Details:</label>

                                                <select id="fertilizers_details" name="fertilizers_details"
                                                    class="form-control">
                                                    <option value="">Select Any Chemical</option>

                                                </select>
                                            </div>
                                            <div class="col-lg-2 col-sm-12">

                                                <label for="time_of_application_chemical"
                                                    class="form-label">Time:</label>

                                                <input type="time" id="time_of_application_chemical"
                                                    name="time_of_application_chemical" class="form-control">

                                            </div>

                                            <div class="col-lg-2 col-sm-12">
                                                <label for="chemical_weight" class="form-label">Weight:</label>
                                                <input type="text" id="chemical_weight" placeholder="Weight"
                                                    name="chemical_weight" class="form-control">
                                            </div>

                                            <div class="col-lg-2 col-sm-12">
                                                <label for="fertilizers_unit" class="form-label">Unit:</label>

                                                <select id="fertilizers_unit" name="fertilizers_unit"
                                                    class="form-control">
                                                    <option value="">Select Any Unit</option>
                                                    <option value="kg">KG</option>
                                                    <option value="gm">GM</option>
                                                    <option value="ltr">Liters</option>
                                                    <option value="ml">Milli Liters</option>
                                                    <option value="NA">NA</option>
                                                </select>
                                            </div>

                                            <div class="col-lg-5 col-sm-12">
                                                <label for="chemical_details_remark" class="form-label">Remarks:</label>

                                                <textarea id="chemical_details_remark" placeholder="Remarks"
                                                    name="chemical_details_remark" class="form-control"></textarea>
                                            </div>


                                            <div class="text-end col-lg-2 col-sm-12">
                                                <button type="button" style="font-size: 70%;"
                                                    class="btn mt-5 btn-sm btn-primary" id="addChemicalBtn">Add Chemical
                                                    Entry</button>
                                            </div>

                                        </div>
                                    </fieldset>


                                    <div class="col-lg-12 col-sm-12 mt-4">
                                        <div class="accordion" id="chemical-entries-accordion">
                                            <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" type="button"
                                                        data-bs-toggle="collapse" data-bs-target="#collapseOne-chemical"
                                                        aria-expanded="true" aria-controls="collapseOne-chemical">
                                                        <h5 class="">Chemical Entries</h5> <span
                                                            id="chemical-count"></span>

                                                    </button>
                                                </h2>
                                                <div id="collapseOne-chemical" class="accordion-collapse collapse"
                                                    data-bs-parent="#chemical-entries-accordion">
                                                    <div class="accordion-body">
                                                        <table class="table table-bordered mt-3" id="chemicalTable">
                                                            <thead class="table-dark">
                                                                <tr>
                                                                    <th>Used</th>
                                                                    <th>Time</th>
                                                                    <th>Chemical</th>
                                                                    <th>Weight</th>
                                                                    <th>Unit</th>
                                                                    <th>Remark</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody></tbody>
                                                        </table>

                                                        <!-- Hidden field to submit -->
                                                        <input type="hidden" name="chemical_entries"
                                                            id="chemical_entries">
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <!-- Table of Added Rows -->

                                    </div>
                                </div>

                                <div class="row alert alert-dark mx-1">
                                    <div class="col-lg-6 col-sm-12">
                                        <label for="remark_by_groundsman" class="form-label">Remark by
                                            Groundsman:</label>
                                        <textarea id="remark_by_groundsman" placeholder="Remarks"
                                            name="remark_by_groundsman" class="form-control"></textarea>
                                    </div>
                                </div>

                                <button type="button" class="btn btn-success my-3" id="add-pitch-entry"
                                    onclick="addPitchEntryRow()" style="font-size: 70%;">Add Pitch Entry</button>
                                <div class="accordion" id="pitch-all-entries-accordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header pitch-all-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapseOne-pitch-all" aria-expanded="true"
                                                aria-controls="collapseOne-pitch-all">
                                                <h5 class="">All Pitch Entries</h5> <span id="pitch-all-count"></span>
                                            </button>
                                        </h2>
                                        <div id="collapseOne-pitch-all" class="accordion-collapse collapse"
                                            data-bs-parent="#pitch-all-entries-accordion">
                                            <div class="accordion-body">
                                                <div id="pitchEntryContainer" style="font-size: 70%;"></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>


                            </div>
<!-- outfield -->
                            <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel"
                                aria-labelledby="profile-tab" tabindex="0">
                               <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark"
                                    style="border:1px solid black;">
                                  

                                    
<!-- watering -->
                                    <div class="row">
                                        <div class="col-sm-12 col-lg-12">
                                           
                                                <legend class="w-auto px-2">Watering</legend>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-lg-4 col-sm-12">
                                                        <label for="out_last_watering_on" class="form-label">Watering
                                                            On:</label>
                                                        <input type="date" id="out_last_watering_on"
                                                            name="out_last_watering_on" class="form-control">
                                                    </div>
                                               
                                               
                                                    <div class="col-lg-4 col-sm-12">
                                                        <label for="out_time_of_application" class="form-label">Time
                                                            of
                                                            Watering:</label>
                                                        <input type="time" id="out_time_of_application"
                                                            name="out_time_of_application" class="form-control">
                                                    </div>
                                                
                                               
                                                    <div class="col-lg-4 col-sm-12">
                                                        <label for="out_quantity_of_water" class="form-label">Quantity
                                                            of
                                                            Water:</label>
                                                        <input type="text" id="out_quantity_of_water"
                                                            name="out_quantity_of_water" class="form-control">
                                                    </div>
                                                </div>
                                           
                                        </div>
                                        </div>
                                </div>
                               <!--rolling  -->
                                <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark"
                                    style="border:1px solid black;">
                                    <div class="row">
                                        <div class="col-sm-12 col-lg-12">
                                           
                                                <legend class="w-auto px-2">Rolling</legend>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-12 col-lg-2">
                                                    <label for="out_roller_machine_type" class="form-label">Select
                                                        Machine
                                                        Type</label>
                                                    <select class="form-select" id="out_roller_machine_type"
                                                        name="out_roller_machine_type">
                                                        <option selected>Select Type</option>
                                                        <option value="passes">Maunal</option>
                                                        <option value="time">Machenized</option>
                                                    </select>
                                                    </div>
                                               
                                                
                                                    <div class="col-lg-4 col-sm-12">
                                                         <div class="row">
                                                        <div class="col">
                                                        <label for="out_machinery_id" class="form-label">Select
                                                            Roller</label>
                                                        <input type="hidden" name="out_machinery_id"
                                                            id="out_machinery_id">
                                                        <input type="text" name="out_machinery_name"
                                                            id="out_machinery_name" class="form-control" readonly
                                                            placeholder="Click to select machinery">
                                                    </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col">
                                                  
                                                        <button type="button" class="btn btn-dark mt-2 align-self-end"
                                                            style="font-size:70%"
                                                            onclick="openMachineryModal('out_roller')">Select
                                                            Machinery</button>

                                                    </div>
                                                    </div>
                                                    </div>
                                                     <div class="col-sm-12 col-lg-3">
                                                        <label for="out_roller_machinery_name_operator" class="form-label">
                                                            Operator Name:
                                                        </label>
                                                        <input type="text" name="out_roller_machinery_name_operator"
                                                            id="out_roller_machinery_name_operator" class="form-control">

                                                     </div>
                                                
                                                <div class="col-sm-12 col-lg-3">
                                                    <label for="out_time_of_application" class="form-label">Time of
                                                        Rolling:</label>
                                                    <input type="time" id="out_time_roller" name="out_time_roller"
                                                        class="form-control">
                                                </div>
                                              
                                                  <div class="col-sm-12 col-lg-3">
                                                        <label for="out_rolling_speed" class="form-label">Rolling
                                                            Speed:</label>
                                                        <input type="number" id="out_rolling_speed"
                                                            name="out_rolling_speed" class="form-control">
                                                    </div>
                                               
                                                
                                                 
                                                    <div class="col-sm-12 col-lg-2">
                                                        <label for="out_passes-unit" class="form-label">Select
                                                            Unit:</label>
                                                        <select class="form-select" id="out_passes_unit"
                                                            name="out_passes_unit">
                                                            <option selected>Select Unit</option>
                                                            <option value="passes">Passes</option>
                                                            <option value="time">Time</option>
                                                            <option value="hours">Hours</option>
                                                            <option value="minutes">Minutes</option>
                                                        </select>


                                                    </div>
                                                    <div class="col-sm-12 col-lg-2">
                                                        <label for="out_no_of_passes" class="form-label">Number of
                                                            Passes:</label>
                                                        <input type="text" id="out_no_of_passes" name="out_no_of_passes"
                                                            class="form-control">
                                                    </div>
                                                </div>
                                                <div class="mt-4 mb-0 col text-end">
                                                    <button type="button" class="btn btn-primary"
                                                        onclick="outaddRollingEntry()">Add
                                                        Rolling Entry</button>
                                                </div>
                                           <div class="col-sm-12 col-lg-12 mt-5">
                                                    <div class="accordion" id="out-rolling-entries-accordion">
                                                        <div class="accordion-item">
                                                            <h2 class="accordion-header">
                                                                <button class="accordion-button" type="button"
                                                                    data-bs-toggle="collapse"
                                                                    data-bs-target="#collapseOne-rolling-out"
                                                                    aria-expanded="true"
                                                                    aria-controls="collapseOne-rolling-out">
                                                                    <h5 class="">Rolling Entries</h5> <span
                                                                        id="rolling-count-out"></span>

                                                                </button>
                                                            </h2>
                                                            <div id="collapseOne-rolling-out"
                                                                class="accordion-collapse collapse"
                                                                data-bs-parent="#out-rolling-entries-accordion">
                                                                <div class="accordion-body">
                                                                    <table class="table table-bordered" id="outrollingTable"
                                            style="font-size: 70%;">
                                            <thead class="table-dark">
                                                <tr>
                                                    <th>Machine Type</th>
                                                    <th>Machinery</th>
                                                    <th>Operator</th>
                                                    <th>Speed</th>
                                                    <th>Passes</th>
                                                    <th>Unit</th>
                                                    <th>Time</th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>

                                        <input type="hidden" name="out_rolling_entries_json"
                                            id="out_rolling_entries_json">
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                      
                                   
                                   
                                        
                                    </div>
                                </div>
                                
                                </div>
                             <!-- mowing -->
<div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
    <legend class="w-auto px-2">Mower Entries</legend>
    <hr>
    <div class="row mt-4">

        <div class="col-lg-2 col-sm-12">
            <label for="out_mover_machine_type" class="form-label">Select Machine Type</label>
            <select class="form-select" id="out_mover_machine_type" name="out_mover_machine_type">
                <option selected>Select Type</option>
                <option value="passes">Maunal</option>
                <option value="time">Machenized</option>
            </select>
        </div>

        <div class="col-lg-4 col-sm-12">
            <label class="form-label">Select Machinery/Mover</label>
            <div class="row">
                <div class="col">
                    <input type="hidden" name="out_mover_machinery_id" id="out_mover_machinery_id">
                    <input type="text" name="out_mover_machinery_name" id="out_mover_machinery_name" class="form-control" readonly placeholder="Click to select machinery">
                </div>
                </div>
                 <div class="row">
                <div class="col">
                    <button type="button" class="btn btn-dark mt-2 align-self-end" style="font-size:70%" onclick="openMachineryModal('out_mover')">Select Machinery</button>
                </div>
            </div>
        </div>

        <div class="col-lg-2 col-sm-12">
            <label for="out_date_mowing_done_last" class="form-label">Last Mowing Date:</label>
            <input type="date" id="out_date_mowing_done_last" name="out_date_mowing_done_last" class="form-control">
        </div>

        <div class="col-lg-2 col-sm-12">
            <label for="out_time_of_application_mover" class="form-label">Time of Application:</label>
            <input type="time" id="out_time_of_application_mover" name="out_time_of_application_mover" class="form-control">
        </div>

        <div class="col-lg-2 col-sm-12">
            <label for="out_mowing_done_at_mm" class="form-label">Mowing Height (mm):</label>
            <input type="number" id="out_mowing_done_at_mm" name="out_mowing_done_at_mm" class="form-control">
        </div>

        <div class="col-lg-2 col-sm-12">
            <label for="out_moving_passes_unit" class="form-label">Select Unit:</label>
            <select class="form-select" id="out_moving_passes_unit" name="out_moving_passes_unit">
                <option selected>Select Unit</option>
                <option value="time">Time</option>
                <option value="hours">Hours</option>
                <option value="minutes">Minutes</option>
            </select>
        </div>

        <div class="col-lg-2 col-sm-12">
            <label for="out_mowing_duration" class="form-label">Mowing Duration :</label>
            <input type="number" id="out_mowing_duration" name="out_mowing_duration" class="form-control">
        </div>

        <div class="col-lg-2 col-sm-12">
            <label for="out_mover_machinery_name_operator" class="form-label">Operator Name:</label>
            <input type="text" name="out_mover_machinery_name_operator" id="out_mover_machinery_name_operator" class="form-control">
        </div>

        <div class="mt-4 mb-0 text-end col-lg-3 col-sm-12">
            <button type="button" style="font-size: 70%;" class="btn btn-primary" onclick="outaddMoverEntry()">Add Out Mover Entry</button>
        </div>

        <div class="col-lg-12 col-sm-12 mt-4">
            <div class="accordion" id="out-mover-entries-accordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseOne-outmoving" aria-expanded="true"
                            aria-controls="collapseOne-outmoving">
                            <h5 class="">Mower Entries</h5> <span id="out-mover-count"></span>
                        </button>
                    </h2>
                    <div id="collapseOne-outmoving" class="accordion-collapse collapse show"
                        data-bs-parent="#out-mover-entries-accordion">
                        <div class="accordion-body">
                            <table class="table table-bordered" id="outmoverTable" style="font-size: 70%;">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Machine Type</th>
                                        <th>Machinery</th>
                                        <th>Operator</th>
                                        <th>Height (mm)</th>
                                        <th>Duration</th>
                                        <th>Unit</th>
                                        <th>Time</th>
                                        <th>Date</th>
                                       
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>

                            <input type="hidden" name="out_mover_entries_json" id="out_mover_entries_json">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- row end -->
</div>


                                <!-- <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
                                    <legend class="w-auto px-2">Mower Entries</legend>
                                    <hr>
                                                                <div class="row mt-4">
                                                                    <div class="col-lg-2 col-sm-12">
                                                                        <label for="out_mover_machine_type" class="form-label">Select Machine
                                                                            Type</label>
                                                                        <select class="form-select" id="out_mover_machine_type"
                                                                            name="out_mover_machine_type">
                                                                            <option selected>Select Type</option>
                                                                            <option value="passes">Maunal</option>
                                                                            <option value="time">Machenized</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-lg-12 col-sm-12">
                                                                        <label for="out_mover_machinery_id" class="form-label">Select
                                                                            Machinery/Mover</label>
                                                                        <input type="hidden" name="out_mover_machinery_id" id="out_mover_machinery_id">
                                                                        <input type="text" name="out_mover_machinery_name" id="out_mover_machinery_name"
                                                                            class="form-control" readonly placeholder="Click to select machinery">
                                                                    </div>
                                                                    <div class="col-lg-12 col-sm-12 d-flex">
                                                                        <button type="button" class="btn btn-dark mt-2 align-self-end"
                                                                            style="font-size:70%" onclick="openMachineryModal('out_mover')">Select
                                                                            Machinery</button>

                                                                    </div>
                                                                    <label for="out_mover_machinery_name_operator" class="form-label">Operator
                                                                        Name:</label>
                                                                    <input type="text" name="out_mover_machinery_name_operator"
                                                                        id="out_mover_machinery_name_operator" class="form-control">


                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <label for="out_date_mowing_done_last" class="form-label">Last Mowing
                                                                            Date:</label>
                                                                        <input type="date" id="out_date_mowing_done_last"
                                                                            name="out_date_mowing_done_last" class="form-control">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <label for="out_time_of_application_mover" class="form-label">Time of
                                                                            Application Mover:</label>
                                                                        <input type="time" id="out_time_of_application_mover"
                                                                            name="out_time_of_application_mover" class="form-control">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <label for="out_mowing_done_at_mm" class="form-label">Mowing Height
                                                                            (mm):</label>
                                                                        <input type="number" id="out_mowing_done_at_mm" name="out_mowing_done_at_mm"
                                                                            class="form-control">
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <label for="out_moving_passes_unit" class="form-label">Select
                                                                            Unit:</label>
                                                                        <select class="form-select" id="out_moving_passes_unit"
                                                                            name="out_moving_passes_unit">
                                                                            <option selected>Select Unit</option>
                                                                            <option value="time">Time</option>
                                                                            <option value="hours">Hours</option>
                                                                            <option value="minutes">Minutes</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <label for="out_mowing_duration" class="form-label">Mowing Duration :</label>
                                                                        <input type="number" id="out_mowing_duration" name="out_mowing_duration"
                                                                            class="form-control">
                                                                    </div>
                                                                    <div class="mt-3 text-end">
                                                                        <button type="button" style="font-size: 70%;" class="btn btn-primary"
                                                                            onclick="outaddMoverEntry()">Add Mover
                                                                            Entry</button>
                                                                    </div>

                                                                </div>
                                                                <div class="col-sm-12 col-lg-6">
                                                                    <h5 class="mt-4">Mover Entries</h5>
                                                                    <table class="table table-bordered" id="outmoverTable" style="font-size: 70%;">
                                                                        <thead class="table-dark">
                                                                            <tr>
                                                                                <th>Machine Type</th>
                                                                                <th>Machinery</th>
                                                                                <th>Operator</th>
                                                                                <th>Height (mm)</th>
                                                                                <th>Duration</th>
                                                                                <th>Unit</th>
                                                                                <th>Time</th>
                                                                                <th>Date</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody></tbody>
                                                                    </table>

                                                                    <input type="hidden" name="out_mover_entries_json" id="out_mover_entries_json">
                                                                </div>
                                </div> -->
                                                                
                                <!-- <div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
                                <div class="row mt-3">
                                                                    <div class="col-sm-12 col-lg-6">
                                                                        <div class="input-group mb-3 border rounded">
                                                                            <div class="input-group-text bg-light border-0"
                                                                                style="background-color:white !important;">
                                                                                <input class="form-check-input mt-0 border-left" type="checkbox"
                                                                                    aria-label="Checkbox for following text input"
                                                                                    name="out_is_fertilizers_used" id="out_is_fertilizers_used">
                                                                            </div>
                                                                            <input type="text" class="form-control border-0 mt-2"
                                                                                value="Is Fertilizers Used" style="background-color:white" readonly
                                                                                aria-label="Text input with checkbox">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-12 col-lg-6">
                                                                        <div class="row">
                                                                            <div class="col-sm-12 col-lg-6">
                                                                                <label for="out_time_of_application_chemical" class="form-label">Time of
                                                                                    Application Chemical:</label>
                                                                            </div>
                                                                            <div class="col-sm-12 col-lg-6">
                                                                                <input type="time" id="out_time_of_application_chemical"
                                                                                    name="out_time_of_application_chemical" class="form-control">
                                                                            </div>
                                                                        </div>


                                                                    </div>

                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <label for="out_fertilizers_details" class="form-label">Chemical
                                                                            Details:</label>
                                                                        <div class="row">
                                                                            <div class="col">
                                                                                <select id="out_fertilizers_details" name="out_fertilizers_details"
                                                                                    class="form-control">
                                                                                    <option value="">Select Any Chemical</option>

                                                                                </select>
                                                                            </div>
                                                                            <div class="col">
                                                                                <input type="text" id="out_chemical_details_remark"
                                                                                    placeholder="Remarks" name="out_chemical_details_remark"
                                                                                    class="form-control">
                                                                            </div>

                                                                            <div class="col">
                                                                                <input type="text" id="out_chemical_weight" placeholder="Weight"
                                                                                    name="out_chemical_weight" class="form-control">
                                                                            </div>
                                                                            <div class="col">
                                                                                <select id="out_fertilizers_unit" name="out_fertilizers_unit"
                                                                                    class="form-control">
                                                                                    <option value="">Select Any Unit</option>
                                                                                    <option value="kg">KG</option>
                                                                                    <option value="gm">GM</option>
                                                                                    <option value="ltr">Liters</option>
                                                                                    <option value="ml">Milli Liters</option>
                                                                                    <option value="NA">NA</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>

                                                                        <table class="table table-bordered mt-3" id="outchemicalTable">
                                                                            <thead class="table-dark">
                                                                                <tr>
                                                                                    <th>Used</th>
                                                                                    <th>Time</th>
                                                                                    <th>Chemical</th>
                                                                                    <th>Weight</th>
                                                                                    <th>Unit</th>
                                                                                    <th>Remark</th>
                                                                                    <th>Action</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody></tbody>
                                                                        </table>
                                                                        <div class="text-end">
                                                                            <button type="button" style="font-size: 70%;" class="btn btn-sm btn-primary"
                                                                                id="outaddChemicalBtn">Add
                                                                                Chemical Entry</button>
                                                                        </div>
                                                                        <input type="hidden" name="out_chemical_entries" id="out_chemical_entries">



                                                                    </div>
                                                                </div>
                                                              
                                </div> -->
                                                        
<!-- chemical -->
<div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
    <fieldset>
        <legend class="w-auto px-2">Out Chemical Entries</legend>
        <div class="row mt-3">
            <div class="col-lg-2 col-sm-12">
                <div class="input-group mb-3 mt-4 rounded">
                    <div class="input-group-text border-0">
                        <input class="form-check-input border-left" type="checkbox" aria-label="Checkbox for following text input" name="out_is_fertilizers_used" id="out_is_fertilizers_used">
                    </div>
                    <input type="text" class="form-control border-0 p-0 mt-0" value="Is Fertilizers Used" style="background-color: transparent;" readonly>
                </div>
            </div>

            <div class="col-lg-2 col-sm-12">
                <label for="out_fertilizers_details" class="form-label">Chemical Details:</label>
                <select id="out_fertilizers_details" name="out_fertilizers_details" class="form-control">
                    <option value="">Select Any Chemical</option>
                </select>
            </div>

            <div class="col-lg-2 col-sm-12">
                <label for="out_time_of_application_chemical" class="form-label">Time:</label>
                <input type="time" id="out_time_of_application_chemical" name="out_time_of_application_chemical" class="form-control">
            </div>

            <div class="col-lg-2 col-sm-12">
                <label for="out_chemical_weight" class="form-label">Weight:</label>
                <input type="text" id="out_chemical_weight" placeholder="Weight" name="out_chemical_weight" class="form-control">
            </div>

            <div class="col-lg-2 col-sm-12">
                <label for="out_fertilizers_unit" class="form-label">Unit:</label>
                <select id="out_fertilizers_unit" name="out_fertilizers_unit" class="form-control">
                    <option value="">Select Any Unit</option>
                    <option value="kg">KG</option>
                    <option value="gm">GM</option>
                    <option value="ltr">Liters</option>
                    <option value="ml">Milli Liters</option>
                    <option value="NA">NA</option>
                </select>
            </div>

            <div class="col-lg-5 col-sm-12">
                <label for="out_chemical_details_remark" class="form-label">Remarks:</label>
                <textarea id="out_chemical_details_remark" placeholder="Remarks" name="out_chemical_details_remark" class="form-control"></textarea>
            </div>

            <div class="text-end col-lg-2 col-sm-12">
                <button type="button" style="font-size: 70%;" class="btn mt-5 btn-sm btn-primary" id="outaddChemicalBtn">Add Chemical Entry</button>
            </div>
        </div>
    </fieldset>

    <div class="col-lg-12 col-sm-12 mt-4">
        <div class="accordion" id="out-chemical-entries-accordion">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-outchemical" aria-expanded="true" aria-controls="collapseOne-outchemical">
                        <h5 class="">Out Chemical Entries</h5> <span id="out-chemical-count"></span>
                    </button>
                </h2>
                <div id="collapseOne-outchemical" class="accordion-collapse collapse show" data-bs-parent="#out-chemical-entries-accordion">
                    <div class="accordion-body">
                        <table class="table table-bordered mt-3" id="outchemicalTable">
                            <thead class="table-dark">
                                <tr>
                                    <th>Used</th>
                                    <th>Time</th>
                                    <th>Chemical</th>
                                    <th>Weight</th>
                                    <th>Unit</th>
                                    <th>Remark</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>

                        <!-- Hidden field to submit -->
                        <input type="hidden" name="out_chemical_entries" id="out_chemical_entries">
                    </div>
                </div>
            </div>
        </div>
    </div>

     

</div>
<div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
  <div class="accordion" id="out-pitch-all-entries-accordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header out-pitch-all-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapseOne-pitch-all-out" aria-expanded="true"
                                                aria-controls="collapseOne-pitch-all-out">
                                                <h5 class="">All Pitch Entries</h5> <span id="pitch-all-count-out"></span>
                                            </button>
                                        </h2>
                                        <div id="collapseOne-pitch-all-out" class="accordion-collapse collapse"
                                            data-bs-parent="#out-pitch-all-entries-accordion">
                                            <div class="accordion-body">
                                                <div id="outPitchEntryContainer" style="font-size: 70%;"></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                 <button type="button" class="btn btn-success my-3" id="add-outfield-entry"
                                                                    onclick="addOutfieldEntryRow()">Add Outfield Entry</button>

                                                               
</div>
<div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <label for="out_remark_by_groundsman" class="form-label">Remark by
                                                                                Groundsman:</label>
                                                                            <textarea id="out_remark_by_groundsman" placeholder="Remarks"
                                                                                name="out_remark_by_groundsman" class="form-control"></textarea>
                                                                        </div>
    </div>
</div>
<div class="form-group gray-box border mt-4 text-dark p-3 rounded alert alert-dark">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="brief_match_pitch_assessment" class="form-label">Brief Assessment of the match
                                            pitch:</label>
                                        <textarea placeholder="Brief Assessment of the match pitch" type="text"
                                            id="brief_match_pitch_assessment" name="brief_match_pitch_assessment"
                                            class="form-control"></textarea>
                                    </div>
                                </div>
                                <input type="hidden" name="rowIndxs" id="rowIndxs" />
                                </div>



                                <div class="col-12">
                                    <button type="submit" id="saveAll" class="btn btn-primary">Save All</button>
                                </div>
                </div>
                </div>
            </form>
        </div>
    </div>
</div>


{% include "admin_user/footertags.html" %}

<style>
    label {
        font-weight: 700;
    }

    input,
    label,
    select {
        font-size: 70% !important;
    }
</style>



<!-- 
<div class="container mt-5">
   

    <ul class="list-group">
        <li class="list-group-item bg-info display-6 text-white pb-3">
            Match Entry Form
        </li>
        <li class="list-group-item">

        </li>
    </ul>

</div> -->
<!-- Machinery Selection Modal -->
<div class="modal fade" id="machineryModal" tabindex="-1" aria-labelledby="machineryModalLabel">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="machineryModalLabel">Select Machinery</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Equipment Type</th>
                            <th>Details</th>



                        </tr>
                    </thead>
                    <tbody id="machineryList"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<!-- Custom Scripts -->

</body>

</html>

<style>
    .modal {

        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
        padding-top: 60px;
    }

    .modal-content {
        background-color: #fff;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }

    th,
    td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #f4f4f4;
    }

    .category {
        background-color: #f8f9fa;
        font-weight: bold;
        font-size: 1.1em;
    }

    .subcategory {
        background-color: #eef;
        font-weight: bold;
        padding-left: 20px;
    }

    .item-row {
        padding-left: 40px;
    }
</style>

<style>
    .nav-pills .nav-link.custom1.active {
        background-color: #f7370c;
        color: white;
    }

    .nav-pills .nav-link.custom1 {
        background-color: #eb8e79;
        color: white;
    }

    .nav-pills .nav-link.custom2.active {
        background-color: #00aff9;
        color: white;
    }

    .nav-pills .nav-link.custom2 {
        background-color: #96d3ed;
        color: white;
    }
</style>


<script>
    let rowIndex = 0;

    function addPitchEntryRow() {
        rowIndex++;
        const container = document.getElementById("pitchEntryContainer");

        const row = document.createElement("div");
        row.className = "row g-3 mb-4 border rounded p-3";
        row.id = `pitch_entry_${rowIndex}`;

        const fields = [
            { id: "last_watering_on", label: "Watering On", type: "date", col: 2 },
            { id: "time_of_application", label: "Watering Time", type: "time", col: 2 },
            { id: "quantity_of_water", label: "Water Quantity", type: "text", col: 2 },
            { id: "machinery_id", label: "Machinery ID", type: "text", col: 2 },
            { id: "machinery_name", label: "Machinery Name", type: "text", col: 2 },
            { id: "time_roller", label: "Rolling Time", type: "time", col: 2 },
            { id: "rolling_speed", label: "Rolling Speed", type: "text", col: 2 },
            { id: "no_of_passes", label: "No. of Passes", type: "number", col: 2 },
            { id: "passes_unit", label: "Passes Units", type: "text", col: 2 },
            { id: "mover_machinery_id", label: "Mover ID", type: "text", col: 2 },
            { id: "mover_machinery_name", label: "Mover Name", type: "text", col: 2 },
            { id: "date_mowing_done_last", label: "Mowing Date", type: "date", col: 2 },
            { id: "time_of_application_mover", label: "Mover Time", type: "time", col: 2 },
            { id: "mowing_done_at_mm", label: "Mowing Height", type: "number", col: 2 },
            { id: "is_fertilizers_used", label: "Fertilizer Used?", type: "checkbox", col: 2 },
            { id: "fertilizers_details", label: "Chemical Type", type: "text", col: 2 },
            { id: "chemical_weight", label: "Chemical weight", type: "text", col: 2 },
            { id: "fertilizers_unit", label: "Fertilizers unit", type: "text", col: 2 },
            { id: "chemical_details_remark", label: "Remark", type: "text", col: 2 },
            { id: "time_of_application_chemical", label: "Chem Time", type: "time", col: 2 },
            { id: "chemical_entries", label: "Chem Entry", type: "hidden", col: 2 },
            { id: "mover_machine_type", label: "mover machine type", type: "text", col: 2 },
            { id: "mover_machinery_name_operator", label: "mover machinery operator", type: "text", col: 2 },
            { id: "moving_passes_unit", label: "moving passes unit", type: "text", col: 2 },
            { id: "mowing_duration", label: "mowing duration", type: "text", col: 2 },
            { id: "roller_machine_type", label: "roller machine type", type: "text", col: 2 },
            { id: "roller_machinery_name_operator", label: "roller machinery operator", type: "text", col: 2 },
            { id: "rolling_entries_json", label: "rolling_entries_json", type: "hidden", col: 2 },
            { id: "rolling_entries_json", label: "rolling_entries_json", type: "hidden", col: 2 },
            { id: "mover_entries_json", label: "mover_entries_json", type: "hidden", col: 2 },
        ];

        // fields.forEach(field => {
        //     console.log(field.id)
        //     const formField=document.getElementById(field.id)
        //     const colDiv = document.createElement("div");
        //     colDiv.className = "col-12 col-md-4";

        //     const label = document.createElement("label");
        //     label.setAttribute("for", `${field.id}_${pitchIndex}`);
        //     label.className = "form-label";
        //     label.innerText = field.label;

        //     const input = document.createElement("input");
        //     input.type = field.type;
        //     input.value=formField.value
        //     input.className = "form-control";
        //     input.name = `${field.id}${pitchIndex}`;
        //     input.id = `${field.id}_${pitchIndex}`;

        //     colDiv.appendChild(label);
        //     colDiv.appendChild(input);
        //     row.appendChild(colDiv);
        // });

        // // Checkbox field separately
        // const formIs_fertilizers_used=$("#is_fertilizers_used")
        // console.log(formIs_fertilizers_used.prop("checked"))
        // const checkboxDiv = document.createElement("div");
        // checkboxDiv.className = "col-12 col-md-4";
        // checkboxDiv.innerHTML = `
        //     <label class="form-label">Fertilizers Used?</label><br>
        //     <input type="checkbox" class="form-check-input" name="is_fertilizers_used${pitchIndex}" id="is_fertilizers_used_${pitchIndex}">
        // `;
        //  row.appendChild(checkboxDiv);




        // // Delete Button
        // const btnDiv = document.createElement("div");
        // btnDiv.className = "col-12 text-end";
        // btnDiv.innerHTML = `<button type="button" class="btn btn-danger btn-sm" onclick="document.getElementById('pitch_entry_${pitchIndex}').remove()">Delete Entry</button>`;

        // row.appendChild(btnDiv);
        // container.appendChild(row);
        // console.log($(`#is_fertilizers_used_${pitchIndex}`).attr("name"))
        // $(`#is_fertilizers_used_${pitchIndex}`).prop("checked",formIs_fertilizers_used.prop("checked"))


        fields.forEach(field => {
            const formField = document.getElementById(field.id)
            // console.log(field.id)
            let input = document.createElement("input");
            const colDiv2 = document.createElement("div");
            colDiv2.className = "div-border";
            colDiv2.className = `col-12 col-sm-6 col-md-${field.col}`;
            if (field.id === "chemical_entries") {
                const label = document.createElement("label");
                label.setAttribute("for", `${field.id}_${rowIndex}`);
                label.className = "form-label input-as-label label-font-size";
                label.innerText = field.label;
                input.type = formField.type
                input.name = `${field.id}${rowIndex}`;
                input.id = `${field.id}_${rowIndex}`;
                input.value = formField.value


                colDiv2.appendChild(input);
                row.appendChild(colDiv2);

                // const colDiv1 = document.createElement("div");
                // colDiv1.className = `col-12 col-sm-6 col-md-${field.col}`;
                const tarea = document.createElement("textarea");
                // tarea.value=(formField.value)
                try {
                    JSON.parse(formField.value).forEach((element, i) => {
                        tarea.value += `(${i + 1}) ${element.time_of_application_chemical} ${element.fertilizers_details} ${element.chemical_weight} ${element.chemical_unit} (${element.chemical_details_remark})` + "\n"
                    });
                }
                catch (e) {
                    console.log(e)
                    tarea.value = ""

                }

                tarea.className = "form-control input-as-label input-font-size";
                colDiv2.appendChild(label);
                colDiv2.appendChild(tarea);
                row.appendChild(colDiv2);
            } else {


                const colDiv = document.createElement("div");
                colDiv.className = `col-12 col-sm-6 col-md-${field.col}`;

                const label = document.createElement("label");
                label.setAttribute("for", `${field.id}_${rowIndex}`);
                label.className = "form-label input-as-label label-font-size";
                label.innerText = field.label;


                if (field.type === "checkbox") {
                    input = document.createElement("input");
                    input.type = "checkbox";
                    input.checked = formField.checked
                    input.className = "form-check-input";
                } else {
                    input = document.createElement("input");
                    input.type = field.type;
                    input.className = "form-control input-as-label input-font-size";

                    input.value = formField.value
                }

                input.name = `${field.id}${rowIndex}`;
                input.id = `${field.id}_${rowIndex}`;

                colDiv.appendChild(label);
                colDiv.appendChild(input);
                row.appendChild(colDiv);
            }


        });

        // Delete Button
        const btnDiv = document.createElement("div");
        btnDiv.className = "col-12 text-end";
        btnDiv.innerHTML = `<button type="button" class="btn btn-danger btn-sm" onclick="document.getElementById('entry_${rowIndex}').remove()">Delete Entry</button>`;

        row.appendChild(btnDiv);
        container.appendChild(row);


    }

    $(document).ready(function () {
        $('#add-pitch-entry').click(function () {
            const toastEl = document.getElementById('myToast');
            document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Pitch Entries</b>"
            const toast = new bootstrap.Toast(toastEl, {
                delay: 2000, // 2 seconds
                autohide: true
            });
            toast.show();
        });
    });


</script>


<script>
    let rollingEntries = [];

    function addRollingEntry() {
        const machineType = document.getElementById("roller_machine_type").value;
        const machineryName = document.getElementById("machinery_name").value;
        const machineryId = document.getElementById("machinery_id").value;
        const operator = document.getElementById("roller_machinery_name_operator").value;
        const speed = document.getElementById("rolling_speed").value;
        const passes = document.getElementById("no_of_passes").value;
        const unit = document.getElementById("passes_unit").value;
        const time = document.getElementById("time_roller").value;

        if (!machineType || !machineryName || !operator || !speed || !passes || !unit || !time) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
            machineType,
            machineryId,
            machineryName,
            operator,
            speed,
            passes,
            unit,
            time
        };

        rollingEntries.push(entry);
        updateRollingTable();
    }

    function updateRollingTable() {
        const tableBody = document.querySelector("#rollingTable tbody");
        tableBody.innerHTML = "";

        rollingEntries.forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.machineType}</td>
                <td>${entry.machineryName}</td>
                <td>${entry.operator}</td>
                <td>${entry.speed}</td>
                <td>${entry.passes}</td>
                <td>${entry.unit}</td>
                <td>${entry.time}</td>
            `;
            tableBody.appendChild(row);
        });

        document.getElementById("rolling_entries_json").value = JSON.stringify(rollingEntries);

        const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Rolling Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();

    }
</script>

<script>
    let moverEntries = [];

    function addMoverEntry() {
        const type = document.getElementById("mover_machine_type").value;
        const machineryName = document.getElementById("mover_machinery_name").value;
        const machineryId = document.getElementById("mover_machinery_id").value;
        const operator = document.getElementById("mover_machinery_name_operator").value;
        const mowHeight = document.getElementById("mowing_done_at_mm").value;
        const unit = document.getElementById("moving_passes_unit").value;
        const duration = document.getElementById("mowing_duration").value;
        const time = document.getElementById("time_of_application_mover").value;
        const date = document.getElementById("date_mowing_done_last").value;

        if (!type || !machineryName || !operator || !unit || !duration || !time || !date || !mowHeight) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
            type,
            machineryId,
            machineryName,
            operator,
            mowHeight,
            unit,
            duration,
            time,
            date
        };

        moverEntries.push(entry);
        updateMoverTable();
    }

    function updateMoverTable() {
        const tbody = document.querySelector("#moverTable tbody");
        tbody.innerHTML = "";

        moverEntries.forEach(e => {
            tbody.innerHTML += `
                <tr>
                    <td>${e.type}</td>
                    <td>${e.machineryName}</td>
                    <td>${e.operator}</td>
                    <td>${e.mowHeight}</td>
                    <td>${e.duration}</td>
                    <td>${e.unit}</td>
                    <td>${e.time}</td>
                    <td>${e.date}</td>
                </tr>
            `;
        });

        document.getElementById("mover_entries_json").value = JSON.stringify(moverEntries);



        const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Mowing Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();


    }
</script>

<script>
    document.getElementById("addChemicalBtn").addEventListener("click", function () {
        const used = document.getElementById("is_fertilizers_used").checked ? "Yes" : "No";
        const time = document.getElementById("time_of_application_chemical").value;
        const chemical = document.getElementById("fertilizers_details").selectedOptions[0].text;
        const weight = document.getElementById("chemical_weight").value;
        const unit = document.getElementById("fertilizers_unit").value;
        const remark = document.getElementById("chemical_details_remark").value;

        // if (!chemical || !time) {
        //   alert("Please fill required fields: Chemical and Time.");
        //   return;
        // }

        const tableBody = document.querySelector("#chemicalTable tbody");
        const row = document.createElement("tr");

        row.innerHTML = `<td>${used}</td>
                                                        <td>${time}</td>
                                                        <td>${chemical}</td>
                                                        <td>${weight}</td>
                                                        <td>${unit}</td>
                                                        <td>${remark}</td>
                                                        <td><button type="button" class="btn btn-sm btn-danger delete-row">X</button></td>`;
        tableBody.appendChild(row);

        // Reset inputs
        // document.getElementById("time_of_application_chemical").value = "";
        // document.getElementById("fertilizers_details").value = "";
        // document.getElementById("chemical_weight").value = "";
        // document.getElementById("fertilizers_unit").value = "";
        // document.getElementById("chemical_details_remark").value = "";

        updateChemicalData();
    });

    document.querySelector("#chemicalTable").addEventListener("click", function (e) {
        if (e.target.classList.contains("delete-row")) {
            e.target.closest("tr").remove();
            updateChemicalData();
        }
    });

    function updateChemicalData() {
        const rows = document.querySelectorAll("#chemicalTable tbody tr");
        const data = Array.from(rows).map(row => {
            const cells = row.querySelectorAll("td");
            return {
                is_fertilizers_used: cells[0].innerText,
                time_of_application_chemical: cells[1].innerText,
                fertilizers_details: cells[2].innerText,
                chemical_weight: cells[3].innerText,
                chemical_unit: cells[4].innerText,
                chemical_details_remark: cells[5].innerText
            };
        });
        document.getElementById("chemical_entries").value = JSON.stringify(data);



        const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Chemical Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();


    }

    // Final form submit validation (optional)
    function handleSubmit(form) {
        const hiddenField = document.getElementById("chemical_entries").value;
        if (!hiddenField || hiddenField === "[]") {
            alert("Please add at least one chemical entry.");
            return false;
        }
        return true;
    }
</script>

<script>
    let outIndex = 0;

    function addOutfieldEntryRow() {
        outIndex++;
        const container = document.getElementById("outPitchEntryContainer");

        const row = document.createElement("div");
        row.className = "row g-3 mb-4 border rounded p-3";
        row.id = `outfield_entry_${outIndex}`;

        const fields = [
            { id: "out_last_watering_on", label: "Watering On", type: "date", col: 2 },
            { id: "out_time_of_application", label: "Watering Time", type: "time", col: 2 },
            { id: "out_quantity_of_water", label: "Water Quantity", type: "text", col: 2 },
            { id: "out_machinery_id", label: "Roller ID", type: "text", col: 2 },
            { id: "out_machinery_name", label: "Roller Name", type: "text", col: 2 },
            { id: "out_time_roller", label: "Rolling Time", type: "time", col: 2 },
            { id: "out_rolling_speed", label: "Rolling Speed", type: "number", col: 2 },
            { id: "out_passes_unit", label: "Passes Units", type: "text", col: 2 },
            { id: "out_no_of_passes", label: "No. of Passes", type: "number", col: 2 },
            { id: "out_mover_machinery_id", label: "Mover ID", type: "text", col: 2 },
            { id: "out_mover_machinery_name", label: "Mover Name", type: "text", col: 2 },
            { id: "out_date_mowing_done_last", label: "Mowing Date", type: "date", col: 2 },
            { id: "out_time_of_application_mover", label: "Mover Time", type: "time", col: 2 },
            { id: "out_mowing_done_at_mm", label: "Mowing Height (mm)", type: "number", col: 2 },
            { id: "out_is_fertilizers_used", label: "Fertilizer Used?", type: "checkbox", col: 2 },
            { id: "out_fertilizers_details", label: "Chemical Name", type: "text", col: 2 },
            { id: "out_chemical_weight", label: "Chemical Weight", type: "text", col: 2 },
            { id: "out_fertilizers_unit", label: "Unit", type: "text", col: 2 },
            { id: "out_chemical_details_remark", label: "Remark", type: "text", col: 2 },
            { id: "out_time_of_application_chemical", label: "Chem Time", type: "time", col: 2 },
            { id: "out_chemical_entries", label: "Chem Entry", type: "hidden", col: 2 },
            { id: "out_mover_machine_type", label: "mover machine type", type: "text", col: 2 },
            { id: "out_mover_machinery_name_operator", label: "mover machinery operator", type: "text", col: 2 },
            { id: "out_moving_passes_unit", label: "moving passes unit", type: "text", col: 2 },
            { id: "out_mowing_duration", label: "mowing duration", type: "text", col: 2 },
            { id: "out_roller_machine_type", label: "roller machine type", type: "text", col: 2 },
            { id: "out_roller_machinery_name_operator", label: "roller machinery operator", type: "text", col: 2 },
            { id: "out_rolling_entries_json", label: "roller machinery operator", type: "text", col: 2 },
            { id: "out_mover_entries_json", label: "roller machinery operator", type: "text", col: 2 },

        ];

        // fields.forEach(field => {
        //     const formField=document.getElementById(field.id)
        //     console.log(formField)
        //     const colDiv = document.createElement("div");
        //     colDiv.className = "col-12 col-md-4";

        //     const label = document.createElement("label");
        //     label.setAttribute("for", `${field.id}_${outfieldIndex}`);
        //     label.className = "form-label";
        //     label.innerText = field.label;

        //     const input = document.createElement("input");
        //     input.type = field.type;
        //     input.value=formField.value
        //     input.className = "form-control";
        //     input.name = `${field.id}${outfieldIndex}`;
        //     input.id = `${field.id}_${outfieldIndex}`;
        //     if (field.readonly) input.readOnly = true;

        //     colDiv.appendChild(label);
        //     colDiv.appendChild(input);
        //     row.appendChild(colDiv);
        // });
        // const formIs_fertilizers_used=$("#out_is_fertilizers_used")
        // const checkboxDiv = document.createElement("div");
        // checkboxDiv.className = "col-12 col-md-4";
        // checkboxDiv.innerHTML = `
        //     <label class="form-label">Fertilizers Used?</label><br>
        //     <input type="checkbox" class="form-check-input" name="out_is_fertilizers_used${outfieldIndex}" id="out_is_fertilizers_used_${outfieldIndex}">
        // `;
        // row.appendChild(checkboxDiv);

        // const btnDiv = document.createElement("div");
        // btnDiv.className = "col-12 text-end";
        // btnDiv.innerHTML = `<button type="button" class="btn btn-danger btn-sm" onclick="document.getElementById('outfield_entry_${outfieldIndex}').remove()">Delete Entry</button>`;

        // row.appendChild(btnDiv);
        // container.appendChild(row);

        // console.log($(`#out_is_fertilizers_used_${outfieldIndex}`).attr("name"))
        // $(`#out_is_fertilizers_used_${outfieldIndex}`).prop("checked",formIs_fertilizers_used.prop("checked"))



        fields.forEach(field => {
            const formField = document.getElementById(field.id)
            // console.log(field.id)
            let input = document.createElement("input");
            const colDiv2 = document.createElement("div");
            colDiv2.className = `col-12 col-sm-6 col-md-${field.col}`;
            if (field.id === "out_chemical_entries") {


                const label = document.createElement("label");
                label.setAttribute("for", `${field.id}_${outIndex}`);
                label.className = "form-label input-as-label label-font-size";
                label.innerText = field.label;
                input.type = formField.type
                input.name = `${field.id}${outIndex}`;
                input.id = `${field.id}_${outIndex}`;
                input.value = formField.value


                colDiv2.appendChild(input);
                row.appendChild(colDiv2);

                // const colDiv1 = document.createElement("div");
                // colDiv1.className = `col-12 col-sm-6 col-md-${field.col}`;
                const tarea = document.createElement("textarea");
                // tarea.value=(formField.value)
                try {
                    JSON.parse(formField.value).forEach((element, i) => {
                        tarea.value += `(${i + 1}) ${element.out_time_of_application_chemical} ${element.out_fertilizers_details} ${element.out_chemical_weight} ${element.out_chemical_unit} (${element.out_chemical_details_remark})` + "\n"
                    });
                }
                catch (e) {
                    console.log(e)
                    tarea.value = ""

                }
                tarea.className = "form-control input-as-label input-font-size";
                colDiv2.appendChild(label);
                colDiv2.appendChild(tarea);
                row.appendChild(colDiv2);
            } else {


                const colDiv = document.createElement("div");
                colDiv.className = `col-12 col-sm-6 col-md-${field.col}`;

                const label = document.createElement("label");
                label.setAttribute("for", `${field.id}_${outIndex}`);
                label.className = "form-label input-as-label label-font-size";
                label.innerText = field.label;


                if (field.type === "checkbox") {
                    input = document.createElement("input");
                    input.type = "checkbox";
                    input.checked = formField.checked
                    input.className = "form-check-input";
                } else {
                    input = document.createElement("input");
                    input.type = field.type;
                    input.className = "form-control input-as-label input-font-size";

                    input.value = formField.value
                }

                input.name = `${field.id}${outIndex}`;
                input.id = `${field.id}_${outIndex}`;

                colDiv.appendChild(label);
                colDiv.appendChild(input);
                row.appendChild(colDiv);
            }


        });

        // Delete Button
        const btnDiv = document.createElement("div");
        btnDiv.className = "col-12 text-end";
        btnDiv.innerHTML = `<button type="button" class="btn btn-danger btn-sm" onclick="document.getElementById('out_entry_${outIndex}').remove()">Delete Entry</button>`;

        row.appendChild(btnDiv);
        container.appendChild(row);

          const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Outfield Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();
    }




</script>

<script>
    let outrollingEntries = [];

    function outaddRollingEntry() {
        const machineType = document.getElementById("out_roller_machine_type").value;
        const machineryName = document.getElementById("out_machinery_name").value;
        const machineryId = document.getElementById("out_machinery_id").value;
        const operator = document.getElementById("out_roller_machinery_name_operator").value;
        const speed = document.getElementById("out_rolling_speed").value;
        const passes = document.getElementById("out_no_of_passes").value;
        const unit = document.getElementById("out_passes_unit").value;
        const time = document.getElementById("out_time_roller").value;

        if (!machineType || !machineryName || !operator || !speed || !passes || !unit || !time) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
            machineType,
            machineryId,
            machineryName,
            operator,
            speed,
            passes,
            unit,
            time
        };

        outrollingEntries.push(entry);
        outupdateRollingTable();
    }

    function outupdateRollingTable() {
        const tableBody = document.querySelector("#outrollingTable tbody");
        tableBody.innerHTML = "";

        outrollingEntries.forEach(entry => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.machineType}</td>
                <td>${entry.machineryName}</td>
                <td>${entry.operator}</td>
                <td>${entry.speed}</td>
                <td>${entry.passes}</td>
                <td>${entry.unit}</td>
                <td>${entry.time}</td>
            `;
            tableBody.appendChild(row);
        });

        document.getElementById("out_rolling_entries_json").value = JSON.stringify(outrollingEntries);
          const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Outfield Rolling Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();
    }
</script>

<script>
    let outmoverEntries = [];

    function outaddMoverEntry() {
        const type = document.getElementById("out_mover_machine_type").value;
        const machineryName = document.getElementById("out_mover_machinery_name").value;
        const machineryId = document.getElementById("out_mover_machinery_id").value;
        const operator = document.getElementById("out_mover_machinery_name_operator").value;
        const mowHeight = document.getElementById("out_mowing_done_at_mm").value;
        const unit = document.getElementById("out_moving_passes_unit").value;
        const duration = document.getElementById("out_mowing_duration").value;
        const time = document.getElementById("out_time_of_application_mover").value;
        const date = document.getElementById("out_date_mowing_done_last").value;

        if (!type || !machineryName || !operator || !unit || !duration || !time || !date || !mowHeight) {
            alert("Please fill all fields before adding.");
            return;
        }

        const entry = {
            type,
            machineryId,
            machineryName,
            operator,
            mowHeight,
            unit,
            duration,
            time,
            date
        };

        outmoverEntries.push(entry);
        outupdateMoverTable();
    }

    function outupdateMoverTable() {
        const tbody = document.querySelector("#outmoverTable tbody");
        tbody.innerHTML = "";

        outmoverEntries.forEach(e => {
            tbody.innerHTML += `
                <tr>
                    <td>${e.type}</td>
                    <td>${e.machineryName}</td>
                    <td>${e.operator}</td>
                    <td>${e.mowHeight}</td>
                    <td>${e.duration}</td>
                    <td>${e.unit}</td>
                    <td>${e.time}</td>
                    <td>${e.date}</td>
                </tr>
            `;
        });

        document.getElementById("out_mover_entries_json").value = JSON.stringify(outmoverEntries);
          const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Outfield Mower Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();
    }
</script>

<script>
    document.getElementById("outaddChemicalBtn").addEventListener("click", function () {
        const used = document.getElementById("out_is_fertilizers_used").checked ? "Yes" : "No";
        const time = document.getElementById("out_time_of_application_chemical").value;
        const chemical = document.getElementById("out_fertilizers_details").selectedOptions[0].text;
        const weight = document.getElementById("out_chemical_weight").value;
        const unit = document.getElementById("out_fertilizers_unit").value;
        const remark = document.getElementById("out_chemical_details_remark").value;

        // if (!chemical || !time) {
        //   alert("Please fill required fields: Chemical and Time.");
        //   return;
        // }

        const tableBody = document.querySelector("#outchemicalTable tbody");
        const row = document.createElement("tr");

        row.innerHTML = `<td>${used}</td>
<td>${time}</td>
<td>${chemical}</td>
<td>${weight}</td>
<td>${unit}</td>
<td>${remark}</td>
<td><button type="button" class="btn btn-sm btn-danger delete-row">X</button></td>
`;
        tableBody.appendChild(row);

        // Reset inputs
        // document.getElementById("time_of_application_chemical").value = "";
        // document.getElementById("fertilizers_details").value = "";
        // document.getElementById("chemical_weight").value = "";
        // document.getElementById("fertilizers_unit").value = "";
        // document.getElementById("chemical_details_remark").value = "";

        updateOutChemicalData();
    });

    document.querySelector("#outchemicalTable").addEventListener("click", function (e) {
        if (e.target.classList.contains("delete-row")) {
            e.target.closest("tr").remove();
            updateOutChemicalData();
        }
    });

    function updateOutChemicalData() {
        const rows = document.querySelectorAll("#outchemicalTable tbody tr");
        const data = Array.from(rows).map(row => {
            const cells = row.querySelectorAll("td");
            return {
                out_is_fertilizers_used: cells[0].innerText,
                out_time_of_application_chemical: cells[1].innerText,
                out_fertilizers_details: cells[2].innerText,
                out_chemical_weight: cells[3].innerText,
                out_chemical_unit: cells[4].innerText,
                out_chemical_details_remark: cells[5].innerText
            };
        });
        console.log(data)
        document.getElementById("out_chemical_entries").value = JSON.stringify(data);
          const toastEl = document.getElementById('myToast');
        document.querySelector(".toast-msg-div").innerHTML = "New row added in <b>Outfield Chemical Entries</b>"
        const toast = new bootstrap.Toast(toastEl, {
            delay: 2000, // 2 seconds
            autohide: true
        });
        toast.show();
    }

    // Final form submit validation (optional)
    function handleSubmit(form) {
        const hiddenField = document.getElementById("out_chemical_entries").value;
        if (!hiddenField || hiddenField === "[]") {
            alert("Please add at least one chemical entry.");
            return false;
        }
        return true;
    }
</script>
<script>

    const getWeather = (textField) => {

        // Define your API key, location, and the date you want to get the forecast for
        const apiKey = 'f201a1e4b5cf4e87a66103535240211';
        const loc = 'Nagpur';
        const date = textField.value // Replace with your desired date (YYYY-MM-DD)

        // Construct the API URL for the forecast
        const url = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${loc}&dt=${date}&aqi=no`;

        // Fetch the weather data
        fetch(url)
            .then(response => response.json())
            .then(data => {
                // Extract the forecast data for the day
                const forecast = data.forecast.forecastday[0].day;

                // Get the min, max temperature and weather condition description
                const minTemp = Math.ceil(forecast.mintemp_c);
                const maxTemp = Math.ceil(forecast.maxtemp_c);
                const condition = forecast.condition.text;

                document.getElementById("min_temp").value = minTemp
                document.getElementById("max_temp").value = maxTemp
                document.getElementById("forecast").value = condition

            })
            .catch(error => console.error('Error fetching weather data:', error));
    }

</script>


<script>


    function toggleFields() {
        var matchType = document.getElementById('match_type').value;
        if (matchType === 'Multidays') {
            document.getElementById('from_date').style.display = "block";
            document.getElementById('to_date').style.display = "block";
            document.getElementById('match_date').style.display = "none"
            $(document).ready(function () {
                $("#to-date-div").css("display", "block")
                $("#from-date-div").css("display", "block")
                $("#match-date-div").css("display", "none")
            })
            document.getElementById('from_date').disabled = false;
            document.getElementById('to_date').disabled = false;
            document.getElementById('match_date').disabled = true;
        } else {
            $(document).ready(function () {

                $("#days_count").val("1")
                $("#from_date").val("")
                $("#to_date").val("")
                $("#to-date-div").css("display", "none")
                $("#from-date-div").css("display", "none")
                $("#match-date-div").css("display", "block")
            })
            document.getElementById('from_date').style.display = "none";
            document.getElementById('to_date').style.display = "none";
            document.getElementById('match_date').style.display = "block";
            document.getElementById('from_date').disabled = true;
            document.getElementById('to_date').disabled = true;
            document.getElementById('match_date').disabled = false;
        }
    }

    function toggleRollerOptions() {
        var rollerType = document.getElementById('roller_type').value;
        if (rollerType === 'manually') {
            document.getElementById('roller_weight_div').style.display = 'block';
        } else {
            document.getElementById('roller_weight_div').style.display = 'none';
        }
    }
</script>

<!-- Axios CDN -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>



    $(document).ready(function () {
        axios.get("/usr_admin/get_grounds").then((result) => {
            $("#ground_id").html("")
            $("#ground_id").append(`<option value=''>Select Ground</option>`)
            //                $("#ground_id").append(`<option value='all'>All Grounds</option>`)

            result.data.grounds.forEach(function (g) {
                $("#ground_id").append(`<option value='${g.ground[0]}'>${g.ground[6]}</option>`)
            })

        }).catch((error) => {
            console.log(error)

        })

        // Function to calculate the difference in days between two dates
        function calculateDays() {

            var fromDate = $('#from_date').val();
            var toDate = $('#to_date').val();

            // Ensure both dates are selected
            if (fromDate && toDate) {
                var from = new Date(fromDate);
                var to = new Date(toDate);

                // Calculate the difference in milliseconds and convert to days
                var timeDiff = to - from;
                var daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;  // +1 to include the start date

                // Update the days_count field with the calculated days
                $('#days_count').val(daysDiff);
            } else {
                // Reset to default if dates are not selected
                $('#days_count').val(1);
            }
        }

        // Trigger calculation on date change
        $('#from_date, #to_date').on('change', calculateDays);
    })

    $("#out_is_fertilizers_used").change(function () {
        if ($(this).prop("checked") === true) {
            $("#out_fertilizers_details").prop("required", true)
        }
        else {
            $("#out_fertilizers_details").prop("required", false)
        }


    });

    $("#is_fertilizers_used").change(function () {
        if ($(this).prop("checked") === true) {
            $("#fertilizers_details").prop("required", true)
        }
        else {
            $("#fertilizers_details").prop("required", false)
        }


    });

    $("#ground_id").change(function () {
        const groundId = $(this).val().trim()
        if (groundId == "all") {
            axios.get(`/usr_admin/get_all_pitches`).then((result) => {
                // console.log(result.data.grounds)
                $("#pitch_id").html("")
                $("#pitch_id").append(`<option value=''>Select Pitch</option>`)
                //                    $("#pitch_id").append(`<option value='all'>All Pitches</option>`)

                result.data.grounds.forEach(function (p) {
                    $("#pitch_id").append(`<option value='${p.pitches[0]}'>${p.pitches[14]}  ${p.pitches[5]}</option>`)
                })
            }).catch((error) => {
                console.log(error)

            })
        } else {
            axios.get(`/usr_admin/get_pitches/${groundId}`).then((result) => {
                console.log(result.data.grounds)
                $("#pitch_id").html("")
                $("#pitch_id").append(`<option value=''>Select Pitch</option>`)
                //                    $("#pitch_id").append(`<option value='all'>All Pitches</option>`)

                result.data.grounds.forEach(function (p) {
                    $("#pitch_id").append(`<option value='${p.pitch[0]}'>${p.pitch[14]}  ${p.pitch[5]}</option>`)
                })
            }).catch((error) => {
                console.log(error)

            })
        }

    })



    function addChemicalsToSelect(fertilizers, select) {
        fertilizers.forEach(function (fert) {
            const option = document.createElement("option");
            option.value = fert.id;
            option.textContent = `${fert.name} (${fert.type})`;
            select.appendChild(option);
        });
    }

    axios.get('/usr_admin/get-fertilizers-json/')
        .then(function (response) {
            const fertilizers = response.data.fertilizers;
            const select = document.getElementById("fertilizers_details");
            // const ppSelect = document.getElementById("pp_fertilizers_details");
            const outSelect = document.getElementById("out_fertilizers_details");
            // const practiceSelect = document.getElementById("practice_fertilizers_details");
            addChemicalsToSelect(fertilizers, select)
            // addChemicalsToSelect(fertilizers, ppSelect)
            addChemicalsToSelect(fertilizers, outSelect)
            // addChemicalsToSelect(fertilizers, practiceSelect)

        })
        .catch(function (error) {
            console.error("Error fetching fertilizers:", error);
        });



    $("#pitch_id").change(function () {


        const pitchId = $(this).val().trim()
        const groundId = $("#ground_id").val().trim()
        if (pitchId !== "all") {

            axios.get(`/usr_admin/get_pitch/${pitchId}`).then((result) => {
                const pitch = result.data.grounds[0].pitch

                console.log(pitch)
                $("#pitch_location").prop("disabled", false)
                $("#pitch_location").prop("readonly", true)
                $("#pitch_location").val(pitch[1])

            }).catch((error) => {
                console.log(error)

            })
        } else if (pitchId === "all") {
            $("#pitch_location").prop("disabled", true)
        }
    })




    $("#start_time").on("change keyup", function () {
        const d = new Date($("#match_date").val().trim())
        const timeSplit = $(this).val().trim().split(":")

        d.setHours(timeSplit[0])
        d.setMinutes(timeSplit[1])

        console.log(d)
        console.log(d >= new Date())
        if (d >= new Date()) {
            $("#add-outfield-entry, #add-pitch-entry, #saveAll").attr("disabled", true)
        }
        else {
            $("#add-outfield-entry, #add-pitch-entry, #saveAll").attr("disabled", false)
        }

    })
    $("#from_date").on("change keyup", function () {

        const d = new Date($("#from_date").val().trim())
        const timeSplit = $(this).val().trim().split(":")

        d.setHours(timeSplit[0])
        d.setMinutes(timeSplit[1])

        // console.log(d)
        if (d >= new Date()) {
            $("#add-outfield-entry, #add-pitch-entry, #saveAll").attr("disabled", true)
        }
        else {
            $("#add-outfield-entry, #add-pitch-entry, #saveAll").attr("disabled", false)
        }

    })



    function handleSubmit(form) {
        // const filteredTabs = allTabs.filter(tab => $(`#${tab}`).prop("checked"));



        const indexes = `${rowIndex}-${outIndex}`
        $("#rowIndxs").val(indexes)
        // Submit the form if all conditions are met


        //         const fromDateInput = document.getElementById('from_date');
        // if (!fromDateInput.disabled && fromDateInput.offsetParent !== null) {  // Check if field is visible and enabled
        //     const fromDateValue = fromDateInput.value;
        //     const today = new Date();
        //     const fromDate = new Date(fromDateValue);

        //     today.setHours(0, 0, 0, 0);  // Remove time part
        //     fromDate.setHours(0, 0, 0, 0);

        //     if (fromDate >= today) {
        //         alert("From Date must be earlier than today's date.");
        //         return false;  // Prevent form submit
        //     }
        // }


        form.submit();

        return false;
    }





</script>

<script>

    function mainPasses() {
        const noOfPasses = document.getElementById("no_of_passes");
        const unitSelect = document.getElementById("passes_unit");

        unitSelect.addEventListener("change", function () {
            const selected = this.value;
            noOfPasses.value = "";
            noOfPasses.removeAttribute("pattern");
            noOfPasses.removeAttribute("title");
            noOfPasses.setAttribute("type", "text");

            if (selected === "passes" || selected === "hours" || selected === "minutes") {
                noOfPasses.setAttribute("type", "number");
                noOfPasses.setAttribute("placeholder", "")
            } else if (selected === "time") {
                noOfPasses.setAttribute("pattern", "^[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}$");
                noOfPasses.setAttribute("placeholder", "hh:mm - hh:mm");
                noOfPasses.setAttribute("title", "Time should be in format hh:mm - hh:mm");
            }
        });
    }
    function outPasses() {
        const noOfPasses = document.getElementById("out_no_of_passes");
        const unitSelect = document.getElementById("out_passes_unit");

        unitSelect.addEventListener("change", function () {
            const selected = this.value;
            noOfPasses.value = "";
            noOfPasses.removeAttribute("pattern");
            noOfPasses.removeAttribute("title");
            noOfPasses.setAttribute("type", "text");

            if (selected === "passes" || selected === "hours" || selected === "minutes") {
                noOfPasses.setAttribute("type", "number");
                noOfPasses.setAttribute("placeholder", "")
            } else if (selected === "time") {
                noOfPasses.setAttribute("pattern", "^[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}$");
                noOfPasses.setAttribute("placeholder", "hh:mm - hh:mm");
                noOfPasses.setAttribute("title", "Time should be in format hh:mm - hh:mm");
            }
        });
    }

    document.addEventListener("DOMContentLoaded", function () {
        mainPasses()
        outPasses()

    });
</script>


<style>
    .input-as-label {
        border: none;
        background: transparent;
        padding-left: 0;
        font-size: 1rem;
        color: #212529;
        pointer-events: none;
        /* disable click */
    }

    .label-font-size {
        font-size: 120% !important;
        color: #aee5f5;
        padding: 5px 15px;
        border-radius: 10px;
        background-color: #18333f;
    }

    .div-border {
        border: 1px solid black !important;
    }

    .input-font-size {
        font-size: 110% !important;
        color: #18333f;
        padding: 5px 15px;
        border-radius: 10px;
        background-color: #68cceb;
    }

    .in .input-as-label::-webkit-calendar-picker-indicator {
        display: none;
        /* Hide calendar icon in Chrome/Safari */
    }
</style>

<style>
    /* Default (collapsed) state */
    .accordion-button {
        background-color: #f8f9fa;
        /* Light gray */
        color: #212529;
        /* Dark text */
        padding: 1% 1%;
        font-size: 11px !important;
    }

    .accordion-button h5 {
        font-size: 98% !important;
    }

    /* Expanded (active) state */
    .accordion-button:not(.collapsed) {
        background-color: #606365;
        /* Blue */
        color: white;
    }

    /* Collapsed (closed) state */
    .accordion-button.collapsed {
        background-color: #47494b;
        /* Yellow */
        color: #ffffff;
    }

    /* Optional: Body styling */
    .accordion-body {
        background-color: #e2e3e5;
        color: #212529;
    }

    /* Optional: Remove default focus shadow */
    .accordion-button:focus {
        box-shadow: none;
    }

    .gray-box
    {
        margin: 20px 10px !important;
        border: 1px solid black !important;
    }
</style>